<ion-content class="register-bg">
  <div class="register-container">
    <h1 class="title">Crear cuenta</h1>

    <ion-item class="input-box">
      <ion-input
        placeholder="Nombre de usuario"
        [(ngModel)]="username"
      ></ion-input>
    </ion-item>

    <ion-item class="input-box">
      <ion-input
        placeholder="Email"
        type="email"
        [(ngModel)]="email"
      ></ion-input>
    </ion-item>

    <ion-item class="input-box">
      <ion-input
        placeholder="Contraseña"
        type="password"
        [(ngModel)]="password"
      ></ion-input>
    </ion-item>

    <div class="file-box">
      <label>Foto de perfil:</label>

      <!-- Elegir desde archivos / galería -->
      <input
        type="file"
        accept="image/*"
        (change)="onFileChange($event)"
      />

      <!-- Sacar foto con la cámara -->
      <button
        type="button"
        class="camera-btn"
        (click)="onTakePhoto()"
        [disabled]="takingPhoto"
      >
        {{ takingPhoto ? 'Abriendo cámara...' : 'Usar cámara' }}
      </button>

      <p class="file-name" *ngIf="imgFile">
        Imagen seleccionada: <strong>{{ imgFile.name }}</strong>
      </p>
    </div>

    <ion-button expand="block" (click)="onRegister()">Crear cuenta</ion-button>

    <ion-button expand="block" fill="clear" [routerLink]="['/']">
      Volver
    </ion-button>
  </div>
</ion-content>
